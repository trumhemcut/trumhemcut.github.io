<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Phi Hu·ª≥nh</title>
    <link>https://trumhemcut.github.io/</link>
    <description>Recent content on Phi Hu·ª≥nh</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 23 Aug 2016 16:34:00 +0000</lastBuildDate>
    <atom:link href="https://trumhemcut.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>T·∫°o Docker Swarm Cluster d√πng Azure Container Service</title>
      <link>https://trumhemcut.github.io/2016/08/23/tao-docker-swarm-dung-azure-container-service</link>
      <pubDate>Tue, 23 Aug 2016 16:34:00 +0000</pubDate>
      
      <guid>https://trumhemcut.github.io/2016/08/23/tao-docker-swarm-dung-azure-container-service</guid>
      <description>

&lt;h2 id=&#34;gi·ªõi-thi·ªáu&#34;&gt;Gi·ªõi thi·ªáu&lt;/h2&gt;

&lt;p&gt;Docker ƒë√£ qu√° quen thu·ªôc v·ªõi anh em l√†m DevOps v√† ng√†y c√†ng tr·ªü n√™n ph·ªï bi·∫øn v·ªõi c·∫£ developers. Build ra c√°c images, t·∫°o ra c√°c containers g·∫ßn nh∆∞ l√† c√°c c√¥ng vi·ªác th∆∞·ªùng ng√†y c·ªßa d√¢n IT. H√¥m nay t√¥i xin gi·ªõi thi·ªáu c√°ch d√πng &lt;strong&gt;Azure Container Service&lt;/strong&gt; ƒë·ªÉ t·∫°o ra m·ªôt &lt;strong&gt;Swarm Cluster&lt;/strong&gt; ch·ªâ v·ªõi v√†i b∆∞·ªõc ƒë∆°n gi·∫£n. C√≥ ƒëi·ªÅu l∆∞u √Ω ·ªü ƒë√¢y l√† Docker Swarm ch·ª© kh√¥ng ph·∫£i Docker Swarm-Mode (ch·ªâ c√≥ t·ª´ Docker v1.12 nh√©).&lt;/p&gt;

&lt;h2 id=&#34;chu·∫©n-b·ªã&#34;&gt;Chu·∫©n b·ªã&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;B·∫°n c·∫ßn c√≥ account c·ªßa Azure&lt;/li&gt;
&lt;li&gt;B·∫°n c·∫ßn c√†i ƒë·∫∑t Docker tr√™n m√°y t√≠nh c·ªßa m√¨nh, c√≥ th·ªÉ l√† &lt;strong&gt;Docker for Mac&lt;/strong&gt; ho·∫∑c &lt;strong&gt;Docker for Windows&lt;/strong&gt; t√πy h·ªá ƒëi·ªÅu h√†nh ƒëang s·ª≠ d·ª•ng.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;t·∫°o-ssh-key&#34;&gt;T·∫°o ssh key&lt;/h2&gt;

&lt;p&gt;Azure Container Service y√™u c·∫ßu c√≥ ssh public key ƒë·ªÉ t·∫°o service. Do ƒë√≥, ch√∫ng ta c·∫ßn ph·∫£i t·∫°o ra key n√†y ƒë·ªÉ nh·∫≠p v√†o l√∫c ƒëƒÉng k√Ω Azure Container Service. Key n√†y s·∫Ω ƒë∆∞·ª£c d√πng ƒë·ªÉ ƒëƒÉng nh·∫≠p m√† kh√¥ng c·∫ßn ph·∫£i g√µ password.&lt;/p&gt;

&lt;p&gt;ƒê·ªÉ t·∫°o key, ch√∫ng ta m·ªü terminal l√™n, sau ƒë√≥ g√µ l·ªánh &lt;code&gt;ssh-keygen&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ssh-keygen          
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/phihuynh/.ssh/id_rsa): 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /Users/phihuynh/.ssh/id_rsa.
Your public key has been saved in /Users/phihuynh/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:ZR+bg7xg4SKjU8yiQTMGvDS+soVi19fFB1GeWbU+Tzc phihuynh@phis-mbp.harveynash.vn.local
The key&#39;s randomart image is:
+---[RSA 2048]----+
|o          .o. .o|
|.+         .. + .|
|o=o     . + o+ . |
|oooo   . = = =.  |
|..o B . S + *  Eo|
|+=.= + + o . . .=|
|=o+   .   .     .|
|.  .             |
|                 |
+----[SHA256]-----+
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Sau ƒë√≥, ch√∫ng ta d√πng l·ªánh &lt;code&gt;cat ~/.ssh/id_rsa.pub&lt;/code&gt; ƒë·ªÉ xem gi√° tr·ªã c·ªßa public key. Ch√∫ng ta l∆∞u l·∫°i gi√° tr·ªã n√†y ƒë·ªÉ nh·∫≠p v√†o trong b∆∞·ªõc ƒëƒÉng k√Ω &lt;strong&gt;Azure Containre Service&lt;/strong&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC/KIrbbnrP2X60Qr65dGIU3c0qDZP4bQpuFA71xbKBp45Rr4HPdQ4GBEnBf1oryNKBDOlhQCor7mIDn4hlwCvCGkiIP4IZEMDeSnraHlDUuyWd+CR1K+pi8OwP4DlSajEsikZ+zPQ8wr/aD94bs4yjEANclXGxQSGZMXdCdoizI9Qw3PZmd/xYLvtUatW1FOD9Jxt8+QHkAIroImviWUy6Wr7YAk9RhaMuD+yTvI9QETtquQhUOZNP8KD8jCPE3IgJIW2uWW5AFMkCIm54NDyMx1sVGuMb3/Vnxq2wjo+9if0DwGHNOsBfiq/zrTeSJ/9DjyCy8qFI7YcRkia4IzKt phihuynh@phis-mbp.harveynash.vn.local

&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;t·∫°o-azure-container-service&#34;&gt;T·∫°o Azure Container Service&lt;/h2&gt;

&lt;p&gt;Sau khi ƒë√£ t·∫°o xong ssh public key, b∆∞·ªõc ti·∫øp theo l√† ƒëƒÉng k√Ω m·ªôt Azure Container Service ƒë·ªÉ t·∫°o ra m·ªôt Swarm Cluster. Azure Container Service c√≥ th·ªÉ t·∫°o ra m·ªôt Swarm Cluster hay Mesos Master.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ƒêƒÉng nh·∫≠p v√†o &lt;strong&gt;&lt;a href=&#34;https://portal.azure.com&#34;&gt;Azure Portal&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;T·ª´ portal, ch·ªçn &lt;strong&gt;New&lt;/strong&gt;, g√µ v√†o &lt;strong&gt;Azure Container Service&lt;/strong&gt;, sau ƒë√≥ nh·∫•n v√†o n√∫t &lt;strong&gt;Create&lt;/strong&gt;
&lt;img src=&#34;https://trumhemcut.github.io/images/acs1.png&#34; alt=&#34;Create container service&#34; /&gt;&lt;/li&gt;
&lt;li&gt;Sau ƒë√≥, nh·∫≠p v√†o &lt;strong&gt;User name&lt;/strong&gt;, &lt;strong&gt;SSH public key&lt;/strong&gt; ch√≠nh l√† gi√° tr·ªã c·ªßa public key b·∫°n t·∫°o ra ·ªü tr√™n. T√¥i d√πng &lt;strong&gt;Visual Studio Premium with MSDN&lt;/strong&gt; subscription, n·∫øu b·∫°n d√πng trial ho·∫∑c mua th√¨ c√≥ th·ªÉ l√† subscription kh√°c. ƒê·∫∑t t√™n cho service l√† &lt;strong&gt;test-swarm&lt;/strong&gt;, ch·ªçn Location l√† Southeast Asia v√† sau ƒë√≥ nh·∫•n n√∫t &lt;strong&gt;OK&lt;/strong&gt;.
&lt;img src=&#34;https://trumhemcut.github.io/images/acs2.png&#34; alt=&#34;Basic configuration&#34; /&gt;&lt;/li&gt;
&lt;li&gt;·ªû b∆∞·ªõc &lt;strong&gt;2 Framework configuration&lt;/strong&gt;, ch·ªçn &lt;strong&gt;Ochestrator configuration&lt;/strong&gt; l√† &lt;strong&gt;Swarm&lt;/strong&gt; sau ƒë√≥ nh·∫•n OK. Do b√†i n√†y ch√∫ng ta t·∫≠p trung t·∫°o Docker Swarm Cluster, Azure c≈©ng h·ªó tr·ª£ Mesos Cluster.&lt;/li&gt;
&lt;li&gt;·ªû b∆∞·ªõc &lt;strong&gt;3 Azure Container Service settings&lt;/strong&gt;, nh·∫≠p v√†o &lt;strong&gt;Agent count&lt;/strong&gt; l√† 3 (ch√∫ng ta mu·ªën c√≥ 3 nodes, b·∫°n c√≥ th·ªÉ nh·∫≠p s·ªë kh√°c t√πy √Ω). &lt;strong&gt;Master count&lt;/strong&gt; l√† 1 l√† ƒë·ªß, &lt;strong&gt;DNS prefix&lt;/strong&gt; nh·∫≠p v√†o text t√πy √Ω, v√≠ d·ª• &lt;strong&gt;swarm&lt;/strong&gt;.
&lt;img src=&#34;https://trumhemcut.github.io/images/acs3.png&#34; alt=&#34;3 Azure container service settings&#34; /&gt;&lt;/li&gt;
&lt;li&gt;B∆∞·ªõc 4 validation passed, nh·∫•n &lt;strong&gt;OK&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;B∆∞·ªõc 5 Buy, nh·∫•n &lt;strong&gt;Purchase&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To√†n b·ªô qu√° tr√¨nh deployment di·ªÖn ra m·∫•t kho·∫£ng 15-20 ph√∫t, ch√∫ng ta ki√™n nh·∫´n ch·ªù ƒë·ª£i. Sau khi deploy th√†nh c√¥ng, ch√∫ng ta c√≥ th·ªÉ xem c√°c service trong resource group &lt;strong&gt;test-swarm&lt;/strong&gt;. Ch√∫ng ta th·∫•y c√≥ r·∫•t nhi·ªÅu service ƒë∆∞·ª£c t·∫°o ra: 1 virtual machine, 1 virtual machine scaleset (bao g·ªìm 3 instances t∆∞∆°ng ·ª©ng v·ªõi 3 nodes ch√∫ng ta c·∫•u h√¨nh ·ªü tr√™n), 2 load balancers, 2 public ips, &amp;hellip;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://trumhemcut.github.io/images/acs4.png&#34; alt=&#34;Azure container services&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;k·∫øt-n·ªëi-ƒë·∫øn-swarm-master&#34;&gt;K·∫øt n·ªëi ƒë·∫øn Swarm Master&lt;/h2&gt;

&lt;p&gt;Sau khi ƒë√£ ho√†n t·∫•t qu√° tr√¨nh deployment, ch√∫ng ta ƒë√£ s·∫µn s√†ng ƒë·ªÉ k·∫øt n·ªëi ƒë·∫øn cluster. ƒê·ªÉ k·∫øt n·ªëi ƒë·∫øn cluster, ch√∫ng ta c·∫ßn ƒë·ªãa ch·ªâ IP ƒë·ªÉ SSH. ch√∫ng ta ch·ªçn resource group &lt;strong&gt;test-swarm&lt;/strong&gt;, ch·ªçn &lt;strong&gt;swarm-master-lb-[ID]&lt;/strong&gt; load balancer, nh·∫•n &lt;strong&gt;Overview&lt;/strong&gt; v√† copy gi√° tr·ªã Public IP Address, v√≠ d·ª• c·ªßa t√¥i l√† &lt;strong&gt;52.187.69.179&lt;/strong&gt;.
&lt;img src=&#34;https://trumhemcut.github.io/images/acs5.png&#34; alt=&#34;Get load balancer IP Address&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Sau ƒë√≥ m·ªü terminal, g√µ l·ªánh ssh ƒë·ªÉ k·∫øt n·ªëi ƒë·∫øn swarm cluster:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ssh -L 2375:localhost:2375 -f -N phihuynh@52.187.69.179 -p 2200
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;L·ªánh n√†y s·∫Ω t·∫°o ra m·ªôt SSH Server tr√™n m√°y local v√† l·∫Øng nghe tr√™n port 2375, sau ƒë√≥ forward traffic l√™n SSH server c·ªßa cluster.&lt;/p&gt;

&lt;p&gt;Sau ƒë√≥, ch√∫ng ta ch·∫°y ti·∫øp l·ªánh sau &lt;code&gt;export DOCKER_HOST=:2375&lt;/code&gt; ƒë·ªÉ l·ªánh docker client s·∫Ω chuy·ªÉn h∆∞·ªõng sang localhost:2375&lt;/p&gt;

&lt;p&gt;Ok, ƒë·∫øn ƒë√¢y l√† ch√∫ng ta ƒë√£ ho√†n t·∫•t k·∫øt n·ªëi ƒë·∫øn swarm cluster. ƒê·ªÉ ki·ªÉm tra xem k·∫øt n·ªëi th√†nh c√¥ng hay kh√¥ng, ch√∫ng ta ch·∫°y l·ªánh &lt;code&gt;docker info&lt;/code&gt; ƒë·ªÉ xem s·ªë l∆∞·ª£ng nodes c√≥ ph·∫£i l√† 3 hay kh√¥ng.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker info
ocker info
Containers: 0
 Running: 0
 Paused: 0
 Stopped: 0
Images: 0
Role: primary
Strategy: spread
Filters: health, port, dependency, affinity, constraint
Nodes: 3
 swarm-agent-BA631D94000000: 10.0.0.4:2375
  ‚îî Status: Healthy
  ‚îî Containers: 0
  ‚îî Reserved CPUs: 0 / 2
  ‚îî Reserved Memory: 0 B / 7.145 GiB
  ‚îî Labels: executiondriver=, kernelversion=3.19.0-65-generic, operatingsystem=Ubuntu 14.04.4 LTS, storagedriver=aufs
  ‚îî Error: (none)
  ‚îî UpdatedAt: 2016-08-23T11:43:31Z
 swarm-agent-BA631D94000002: 10.0.0.6:2375
  ‚îî Status: Healthy
  ‚îî Containers: 0
  ‚îî Reserved CPUs: 0 / 2
  ‚îî Reserved Memory: 0 B / 7.145 GiB
  ‚îî Labels: executiondriver=, kernelversion=3.19.0-65-generic, operatingsystem=Ubuntu 14.04.4 LTS, storagedriver=aufs
  ‚îî Error: (none)
  ‚îî UpdatedAt: 2016-08-23T11:43:34Z
 swarm-agent-BA631D94000003: 10.0.0.7:2375
  ‚îî Status: Healthy
  ‚îî Containers: 0
  ‚îî Reserved CPUs: 0 / 2
  ‚îî Reserved Memory: 0 B / 7.145 GiB
  ‚îî Labels: executiondriver=, kernelversion=3.19.0-65-generic, operatingsystem=Ubuntu 14.04.4 LTS, storagedriver=aufs
  ‚îî Error: (none)
  ‚îî UpdatedAt: 2016-08-23T11:43:54Z
Plugins:
 Volume: 
 Network: 
Swarm: 
 NodeID: 
 Is Manager: false
 Node Address: 
Security Options:
Kernel Version: 3.19.0-65-generic
Operating System: linux
Architecture: amd64
CPUs: 6
Total Memory: 21.44 GiB
Name: 7434ac726bcc
Docker Root Dir: 
Debug Mode (client): false
Debug Mode (server): false
WARNING: No kernel memory limit support
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ch·∫°y-th·ª≠-m·ªôt-container&#34;&gt;Ch·∫°y th·ª≠ m·ªôt container&lt;/h2&gt;

&lt;p&gt;Sau khi k·∫øt n·ªëi th√†nh c√¥ng, ch√∫ng ta ch·∫°y th·ª≠ m·ªôt container ubuntu.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker run -it ubuntu bash
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Continuous Delivery for dotnet core apps using Jenkins and Docker</title>
      <link>https://trumhemcut.github.io/2016/08/17/continuous-delivery-for-dotnet-core-app-using-jenkins--docker</link>
      <pubDate>Wed, 17 Aug 2016 11:17:34 +0000</pubDate>
      
      <guid>https://trumhemcut.github.io/2016/08/17/continuous-delivery-for-dotnet-core-app-using-jenkins--docker</guid>
      <description>

&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;I&amp;rsquo;m very exicted with Docker &amp;amp; dotnet core since they&amp;rsquo;re technologies changing the way we develop our applications which we haven&amp;rsquo;t done as before. I&amp;rsquo;m also been attracted by the tools to build Continous Delivery process so that we can shorten the time to deliver our software to the market. I&amp;rsquo;ve been familiar with Release Management (from Microsoft), TeamCity, Octopus &amp;amp; Jenkins, which are great tools to build CI/CD solutions.&lt;/p&gt;

&lt;p&gt;To continue investigating new way to build CI/CD solution so that we can build, ship &amp;amp; run using Docker images &amp;amp; containers, my colleague &amp;amp; myself have been investigating some days to have a PoC using Jenkins &amp;amp; Docker family toolset &amp;amp; it&amp;rsquo;s great to have a share today.&lt;/p&gt;

&lt;p&gt;The idea is to build a full application life-cycle management (ALM) for the project team. As a developer commits the source code to VCS (such as Gitlab/Github/VS Team Service), the changes should be built &amp;amp; run unit-tests immediately. If there is no issues with build &amp;amp; test, the code base then will be built for Docker images, then is pushed to a privated Docker Registry. Then the deployment process can continue to pull the images &amp;amp; deploy to a clustering environment such as Docker Swarm Mode (from Docker v1.12) or Mesos.&lt;/p&gt;

&lt;p&gt;So in general, there should have the steps as follow:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Assuming we have a VCS ready (I&amp;rsquo;m using Gitlab)&lt;/li&gt;
&lt;li&gt;Jenkins to build the source code, push images to internal Docker Registry &amp;amp; deploy to Docker Swarm Mode cluster&lt;/li&gt;
&lt;li&gt;Internal Docker Registry (insecured mode, it&amp;rsquo;s just PoC :) )&lt;/li&gt;
&lt;li&gt;Docker Swarm Mode to deploy services&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;To leverage the power of Docker, every tools listed here are Docker images, we can easily make it up by simple &lt;code&gt;docker run&lt;/code&gt; command.&lt;/p&gt;

&lt;h2 id=&#34;assuming-we-have-a-vcs-ready-i-m-using-gitlab&#34;&gt;Assuming we have a VCS ready (I&amp;rsquo;m using Gitlab)&lt;/h2&gt;

&lt;p&gt;My company has a Gitlab environment up &amp;amp; ready to use, I don&amp;rsquo;t want to take time to build a new one. So assuming we have it available like mine.&lt;/p&gt;

&lt;p&gt;But just in case you don&amp;rsquo;t, we can easily build a new one as &lt;code&gt;Dockerfile&lt;/code&gt; below:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;TODO
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;build-jenkins-server&#34;&gt;Build Jenkins Server&lt;/h2&gt;

&lt;p&gt;Here is the &lt;code&gt;Dockerfile&lt;/code&gt; to create Jenkins Server. Be aware of the line &lt;code&gt;RUN groupadd -g dockergroupid docker &amp;amp;&amp;amp; usermod -a -G docker jenkins&lt;/code&gt;, there is a &lt;code&gt;dockergroupid&lt;/code&gt; which is a variable will be replaced by a shell script named &lt;code&gt;create-dockerfile.sh&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Firstly take a look on the Dockerfile:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Dockerfile
FROM jenkinsci/jenkins

USER root
RUN mkdir /var/log/jenkins
RUN mkdir /var/cache/jenkins
RUN chown -R jenkins:jenkins /var/log/jenkins
RUN chown -R jenkins:jenkins /var/cache/jenkins

RUN apt-get update \
      &amp;amp;&amp;amp; apt-get install -y sudo \
      &amp;amp;&amp;amp; rm -rf /var/lib/apt/lists/*

RUN groupadd -g dockergroupid docker &amp;amp;&amp;amp; usermod -a -G docker jenkins 

USER jenkins
ENV JAVA_OPTS=&amp;quot;-Xmx8192m&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then create-dockerfile.sh&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# create-dockerfile.sh
dockergroupid=`cat /etc/group | grep doc | cut -d&amp;quot;:&amp;quot; -f3`
sed -i s,dockergroupid,$dockergroupid,g Dockerfile
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;build-internal-docker-registry&#34;&gt;Build internal Docker Registry&lt;/h2&gt;

&lt;p&gt;The internal Docker Registry is neccessary to store the images built from Jenkins. Since we&amp;rsquo;re building the insecured private registry, we need to update the Docker config &lt;code&gt;/etc/default/docker&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# Use DOCKER_OPTS to modify the daemon startup options.
DOCKER_OPTS=&amp;quot; --insecure-registry 10.12.0.137:5000&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Please be aware that insecured registry is only used for PoC purpose &amp;amp; should not be used in Production environment at all.&lt;/p&gt;

&lt;p&gt;Restart the Docker daemon service to get the update affects.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo service docker restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Run the registry container&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker run -p 5000:5000 -d --name registry --restart always -d -v `pwd`/data:/var/lib/registry registry 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We mount a volume from Docker Host to Docker container so that we the images in the registry won&amp;rsquo;t be delete as we delete / re-new the registry container.&lt;/p&gt;

&lt;h2 id=&#34;buid-steps-on-jenkins&#34;&gt;Buid steps on Jenkins&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Create a new free style project, put it a name &lt;code&gt;dotnetcore test&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Docker networking &amp; Docker Swarm Mode Demo</title>
      <link>https://trumhemcut.github.io/2016/07/03/docker-networking-docker-swarm-mode-demo</link>
      <pubDate>Sun, 03 Jul 2016 13:27:20 +0200</pubDate>
      
      <guid>https://trumhemcut.github.io/2016/07/03/docker-networking-docker-swarm-mode-demo</guid>
      <description>

&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;This post is a step by step introduction about Docker Networking and new features of Docker Swarm Mode which has just been introduced in #DockerCon 2016.&lt;/p&gt;

&lt;p&gt;We will walk through by examples to understand the Docker Networking. Then will swich to Docker Swarm Mode, demo about the features such as:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The new way to create services&lt;/li&gt;
&lt;li&gt;Scale the services&lt;/li&gt;
&lt;li&gt;Load balancing with Rounting Mesh&lt;/li&gt;
&lt;li&gt;Self-Healing&lt;/li&gt;
&lt;li&gt;Self-Organizing&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;pre-requisites&#34;&gt;Pre-requisites&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine create -d virtualbox node-0
$ docker-machine create -d virtualbox node-1
$ docker-machine create -d virtualbox node-2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Double check to make sure of IP Address of nodes&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine ip node-0
$ docker-machine ip node-1
$ docker-machine ip node-2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Change &lt;strong&gt;/etc/hosts&lt;/strong&gt; file with these above IP Addresses &amp;amp; nodes&lt;/p&gt;

&lt;h2 id=&#34;docker-networking-demo&#34;&gt;Docker Networking Demo&lt;/h2&gt;

&lt;p&gt;SSH to the node-0 node&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker-machine ssh node-0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Create a bridge network&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker network create -d bridge --subnet 10.10.0.0/16  vnet-1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Create containers within that network&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker run -d -p 8001:8000 --net=vnet-1 --name c1 jwilder/whoami
docker run -d -p 8002:8000 --net=vnet-1 --name c2 jwilder/whoami
docker run -d -p 8003:8000 --net=vnet-1 --name c3 jwilder/whoami
docker run -d -p 8004:8000 --net=vnet-1 --name c4 jwilder/whoami
docker run -d -p 8005:8000 --net=vnet-1 --name c5 jwilder/whoami
docker run -d -p 8006:8000 --net=vnet-1 --name c6 jwilder/whoami
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Check the containers in the network&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker network inspect vnet-1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ping each others&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker exec -it c1 bash
$ ping c2
$ ping c3
$ ping c4
$ # and for the others...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Multiple bridge networks demo
Create frontend &amp;amp; backend networks&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker network create -d bridge --subnet 10.11.0.0/16 frontend
$ docker network create -d bridge --subnet 10.12.0.0/16 backend
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Remove containers off the vnet-1 network&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker network disconnect vnet-1 c1
$ docker network disconnect vnet-1 c2
$ docker network disconnect vnet-1 c3
$ docker network disconnect vnet-1 c4
$ docker network disconnect vnet-1 c5
$ docker network disconnect vnet-1 c6
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Connect to frontend network&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker network connect frontend c1
$ docker network connect frontend c2
$ docker network connect frontend c3
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Connect to backend network&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker network connect backend c4
$ docker network connect backend c5
$ docker network connect backend c6
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ping each other&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker exec -it c1 bash
$ ping c2
$ ping c3
$ ping c4
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Connect &lt;strong&gt;c3&lt;/strong&gt; to backend&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker network connect backend c3
$ docker exec -it c3 bash
$ ping c4
$ ping c5
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;docker-swarm-mode-demo&#34;&gt;Docker Swarm Mode Demo&lt;/h2&gt;

&lt;p&gt;Create a swarm cluster
Initial swarm manager&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine ssh node-0
$ docker swarm init
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Node-1 joins the swarm cluster&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine ssh node-1
$ docker swarm join --listen-addr 192.168.99.101:2377 192.168.99.100:2377
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Node-2 joins the swarm cluster&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine ssh node-2
$ docker swarm join --listen-addr 192.168.99.102:2377 192.168.99.100:2377
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Go to the node-0 and check the status of nodes&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker node ls
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Create a service
From node-0, create a service&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker service create -p 5000:5000 --name=cat mikesir87/cats
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Testing the service by browsing at &lt;a href=&#34;http://node-0:5000&#34;&gt;http://node-0:5000&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;scaling-the-service&#34;&gt;Scaling the service&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;$ docker service scale web=2
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Testing the service by browsing at &lt;a href=&#34;http://node-0:5000&#34;&gt;http://node-0:5000&lt;/a&gt;
Testing the service by browsing at &lt;a href=&#34;http://node-1:5000&#34;&gt;http://node-1:5000&lt;/a&gt;
Testing the service by browsing at &lt;a href=&#34;http://node-2:5000&#34;&gt;http://node-2:5000&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All works, why this happens, we have only two nodes, but three endpoints are working fine? Will discuss further?&amp;hellip;&lt;/p&gt;

&lt;h3 id=&#34;routing-mesh&#34;&gt;Routing Mesh&lt;/h3&gt;

&lt;p&gt;Ingress Load Balancing to allow the services exposing port to the outsite world. Only the services has the port published with -p option will join this &lt;strong&gt;ingress network&lt;/strong&gt;. Otherwise, it&amp;rsquo;s only added to &lt;strong&gt;default_gwbridge&lt;/strong&gt; network.&lt;/p&gt;

&lt;p&gt;Try to scale the services to 10 instances as follow:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker service scale web=10
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It&amp;rsquo;s great if we have time to use a overlay user-defined network and attach the service to this network.&lt;/p&gt;

&lt;h3 id=&#34;blue-print-releasing&#34;&gt;Blue-print Releasing&lt;/h3&gt;

&lt;p&gt;When we need to deploy a new version, Docker 1.12 helps us to easily gain blue-print releasing with following command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker service update \ 
    --image trumhemcut/aspnetcore:2.0 aspnet
    --update-parallelism=2 \
    --update-delay=10
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;self-healing&#34;&gt;Self-Healing&lt;/h3&gt;

&lt;p&gt;Go to any nodes and try to stop one container. It will create another container for us.&lt;/p&gt;

&lt;h3 id=&#34;self-organization&#34;&gt;Self-Organization&lt;/h3&gt;

&lt;p&gt;Try to shut down a node, it will create containers on another node for us.&lt;/p&gt;

&lt;h3 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h3&gt;

&lt;p&gt;Hopefully the demo can illustrate the idea of how we&amp;rsquo;re working with the new Docker (v1.12) &amp;amp; Docker Networking.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Docker Swarm, aspnet core 1.0 in action</title>
      <link>https://trumhemcut.github.io/2016/06/29/docker-swarm-aspnet-core-1-0-in-action</link>
      <pubDate>Wed, 29 Jun 2016 11:44:08 +0200</pubDate>
      
      <guid>https://trumhemcut.github.io/2016/06/29/docker-swarm-aspnet-core-1-0-in-action</guid>
      <description>

&lt;p&gt;Cu·ªëi c√πng th√¨ Microsoft c≈©ng ra m·∫Øt &lt;a href=&#34;https://blogs.msdn.microsoft.com/webdev/2016/06/27/announcing-asp-net-core-1-0/&#34;&gt;aspnet core 1.0&lt;/a&gt;, sau m·ªôt th·ªùi gian d√†i tr·∫£i qua c√°c version RC1, RC2. Nh∆∞ c√°c b·∫°n c≈©ng bi·∫øt asp.net core c√≥ nhi·ªÅu t√≠nh nƒÉng ƒë∆∞·ª£c built-in m√† ch√∫ng ta kh√¥ng ph·∫£i t√¨m ki·∫øm &amp;amp; s·ª≠ d·ª•ng nhi·ªÅu libraries ngo√†i nh∆∞ asp.net 5. C√≥ th·ªÉ k·ªÉ ra m·ªôt v√†i t√≠nh nƒÉng nh∆∞ sau:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Ch·∫°y cross-platform tr√™n Windows, Mac v√† Linux&lt;/li&gt;
&lt;li&gt;X√¢y d·ª±ng tr√™n .NET core, h·ªó tr·ª£ side-by-side versioning&lt;/li&gt;
&lt;li&gt;H·ªó tr·ª£ built-in dependency injection&lt;/li&gt;
&lt;li&gt;Tag Helper ki·ªÉu t·ª± nhi√™n nh∆∞ HTML data attributes (b·∫Øt ch∆∞·ªõc Angular 1 :v )&lt;/li&gt;
&lt;li&gt;C√≥ th·ªÉ host tr√™n IIS ho·∫∑c self-host&lt;/li&gt;
&lt;li&gt;Kh√¥ng c√≤n ph√¢n bi·ªát gi·ªØa MVC/API n·ªØa&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;C√≥ nhi·ªÅu c√°ch / tools ƒë·ªÉ b·∫Øt ƒë·∫ßu m·ªôt d·ª± √°n d√πng aspnet core 1.0. Ch√∫ng ta c√≥ th·ªÉ d√πng &lt;a href=&#34;https://www.visualstudio.com/downloads/visual-studio-prerelease-downloads#sec1&#34;&gt;Visual Studio 2015 RC3&lt;/a&gt;, &lt;a href=&#34;https://code.visualstudio.com/&#34;&gt;Visual Studio Code&lt;/a&gt; ho·∫∑c &lt;a href=&#34;https://eclipse-che.readme.io/&#34;&gt;Eclipse Che&lt;/a&gt; ƒë·ªÉ vi·∫øt code, deploy l√™n Windows / Linux / Mac hay Docker t√πy th√≠ch. N√≥i chung l√† c√≥ m√°y n√†o x√†i m√°y ƒë√≥, th√≠ch tool n√†o x√†i tool ƒë√≥ :), kh√¥ng c√≤n ph·ª• thu·ªôc v√†o tools hay environment n·ªØa.&lt;/p&gt;

&lt;p&gt;Trong b√†i n√†y, t√¥i s·∫Ω gi·ªõi thi·ªáu c√°ch develop m·ªôt d·ª± √°n aspnet core 1.0 d√πng Visual Studio Code tr√™n Mac, deploy l√™n Docker Swarm Cluster v√† d√πng Docker Compose ƒë·ªÉ scale c√°c service tr√™n Swarm Cluster.&lt;/p&gt;

&lt;h2 id=&#34;c√†i-ƒë·∫∑t-net-core-1-0-visual-studio-code-tr√™n-mac&#34;&gt;C√†i ƒë·∫∑t .NET Core 1.0, Visual Studio Code tr√™n Mac&lt;/h2&gt;

&lt;p&gt;ƒê·ªÉ b·∫Øt ƒë·∫ßu m·ªôt d·ª± √°n aspnet core 1.0 tr√™n Mac, ch√∫ng ta ph·∫£i chu·∫©n b·ªã environment nh∆∞ sau:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;C√†i ƒë·∫∑t .NET Core 1.0 theo h∆∞·ªõng d·∫´n &lt;a href=&#34;https://www.microsoft.com/net/core#macos&#34;&gt;·ªü ƒë√¢y&lt;/a&gt;. Sau khi c√†i ƒë·∫∑t xong, d√πng terminal ch·∫°y l·ªánh &lt;code&gt;dotnet --version&lt;/code&gt; ƒë·ªÉ ki·ªÉm tra version c·ªßa dotnet tool v√† n·∫øu th·∫•y gi√° tr·ªã l√† &lt;strong&gt;1.0.0-preview2-003121&lt;/strong&gt; nghƒ©a l√† ch√∫ng ta ƒë√£ on track.&lt;/li&gt;
&lt;li&gt;C√†i ƒë·∫∑t Visual Studio Code&lt;/li&gt;
&lt;li&gt;C√†i ƒë·∫∑t &lt;a href=&#34;https://nodejs.org/en/&#34;&gt;NodeJS&lt;/a&gt; v√† &lt;a href=&#34;http://yeoman.io/&#34;&gt;Yeoman&lt;/a&gt; (optional): b∆∞·ªõc n√†y kh√¥ng b·∫Øt bu·ªôc, tuy nhi√™n t√¥i khuy·∫øn kh√≠ch s·ª≠ d·ª•ng Yeoman v√¨ r·∫•t thu·∫≠n ti·ªán ƒë·ªÉ t·∫°o project structure. Sau khi c√†i Yeoman xong th√¨ c√†i th√™m &lt;a href=&#34;https://www.npmjs.com/package/generator-aspnet&#34;&gt;aspnet generator&lt;/a&gt; l√† ch√∫ng ta ƒë√£ s·∫µn s√†ng. N·∫øu ƒë√£ c√†i yeoman &amp;amp; aspnet generator tr∆∞·ªõc ƒë√≥ th√¨ c·∫ßn update generator ƒë·ªÉ c√≥ b·ªô aspnet generator m·ªõi nh·∫•t.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;xin-ch√†o-aspnet-core-1-0&#34;&gt;Xin ch√†o aspnet core 1.0&lt;/h2&gt;

&lt;p&gt;Kh√° d·ªÖ d√†ng ƒë·ªÉ b·∫Øt ƒë·∫ßu v·ªõi aspnet core 1.0. Tr√™n Mac, m·ªü terminal v√† g√µ l·ªánh &lt;code&gt;yo aspnet&lt;/code&gt;, ch·ªçn &lt;strong&gt;Empty Web Application&lt;/strong&gt;, ƒë·∫∑t t√™n d·ª± √°n l√† &lt;strong&gt;hello-aspnet&lt;/strong&gt; v√† nh·∫•n enter. Yeoman s·∫Ω t·∫°o ra m·ªôt project structure cho ch√∫ng ta.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ mkdir ~/projects &amp;amp; cd ~/projects
$ yo aspnet

     _-----_     ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ
    |       |    ‚îÇ      Welcome to the      ‚îÇ
    |--(o)--|    ‚îÇ  marvellous ASP.NET Core ‚îÇ
   `---------¬¥   ‚îÇ        generator!        ‚îÇ
    ( _¬¥U`_ )    ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ
    /___A___\   /
     |  ~  |     
   __&#39;.___.&#39;__   
 ¬¥   `  |¬∞ ¬¥ Y ` 

? What type of application do you want to create? Empty Web Application
? What&#39;s the name of your ASP.NET application? hello-aspnet
   create hello-aspnet/.gitignore
   create hello-aspnet/Program.cs
   create hello-aspnet/Startup.cs
   create hello-aspnet/project.json
   create hello-aspnet/web.config
   create hello-aspnet/Dockerfile
   create hello-aspnet/Properties/launchSettings.json
   create hello-aspnet/README.md


Your project is now created, you can use the following commands to get going
    cd &amp;quot;hello-aspnet&amp;quot;
    dotnet restore
    dotnet build (optional, build will also happen when it&#39;s run)
    dotnet run
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Sau ƒë√≥ ch√∫ng tao v√†o th∆∞ m·ª•c &lt;strong&gt;hello-aspnet&lt;/strong&gt; v√† ch·∫°y c√°c l·ªánh &lt;code&gt;dotnet restore&lt;/code&gt;, &lt;code&gt;dotnet build&lt;/code&gt; v√† &lt;code&gt;dotnet run&lt;/code&gt; ƒë·ªÉ ch·∫°y d·ª± √°n.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;‚ûú  hello-aspnet dotnet run
Project hello-aspnet (.NETCoreApp,Version=v1.0) was previously compiled. Skipping compilation.
Hosting environment: Production
Content root path: /Users/phihuynh/projects/hello-aspnet
Now listening on: http://localhost:5000
Application started. Press Ctrl+C to shut down.
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:5000/  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 88.3022ms 20
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Sau ƒë√≥, m·ªü tr√¨nh duy·ªát v√† nh·∫≠p v√†o ƒë·ªãa ch·ªâ &lt;code&gt;http://localhost:5000&lt;/code&gt; l√† ch√∫ng ta ƒë√£ c√≥ web app ƒë·∫ßu ti√™n ch·∫°y tr√™n aspnet core 1.0.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://trumhemcut.github.io/images/aspnetcore01.png&#34; alt=&#34;say hello to aspnet core&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;xin-ch√†o-docker&#34;&gt;Xin ch√†o Docker&lt;/h2&gt;

&lt;p&gt;Ch√∫ng ta ƒë√£ c√≥ th·ªÉ say hello v·ªõi aspnet core 1.0 tr√™n Mac, gi·ªù ch√∫ng ta ti·∫øp t·ª•c b·∫Øt ƒë·∫ßu v·ªõi Docker. T√¥i gi·∫£ s·ª≠ l√† ch√∫ng ta ƒë√£ l√† quen s∆° s∆° v·ªõi Docker r·ªìi n√™n s·∫Ω kh√¥ng n√≥i nhi·ªÅu v·ªÅ benefits c·ªßa Docker n·ªØa.&lt;/p&gt;

&lt;p&gt;ƒê·ªÉ ch·∫°y hello-aspnet app v·ª´a r·ªìi tr√™n Docker, c∆° b·∫£n ch√∫ng ta s·∫Ω ƒëi qua c√°c b∆∞·ªõc nh∆∞ sau:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;C√†i ƒë·∫∑t Docker Toolbox, b·ªô Docker Toolbox s·∫Ω bao g·ªìm Docker Machine, Kitematic &amp;amp; VirtualBox&lt;/li&gt;
&lt;li&gt;D√πng &lt;strong&gt;docker-machine&lt;/strong&gt; ƒë·ªÉ t·∫°o ra m·ªôt m√°y ·∫£o boot2docker&lt;/li&gt;
&lt;li&gt;Build image cho app hello-aspnet&lt;/li&gt;
&lt;li&gt;Deploy hello-aspnet app l√™n Docker b·∫±ng docker commands&lt;br /&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;c√†i-ƒë·∫∑t-docker-toolbox&#34;&gt;C√†i ƒë·∫∑t Docker Toolbox&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://www.docker.com/products/docker-toolbox&#34;&gt;Docker Toolbox&lt;/a&gt; c√≥ 2 phi√™n b·∫£n cho Windows &amp;amp; Mac. Ch√∫ng ta l·ª±a ch·ªçn phi√™n b·∫£n ph√π h·ª£p v·ªõi OS c·ªßa m√¨nh. Sau khi c√†i xong, ch√∫ng ta s·∫Ω c√≥ Docker Machine, Kitematic &amp;amp; Virtualbox ƒë·ªÉ s·∫≥n s√†ng t·∫°o m√°y ·∫£o.&lt;/p&gt;

&lt;h3 id=&#34;t·∫°o-m√°y-·∫£o-b·∫±ng-docker-machine&#34;&gt;T·∫°o m√°y ·∫£o b·∫±ng docker-machine&lt;/h3&gt;

&lt;p&gt;Sau khi ƒë√£ c√†i Docker Toolbox, m·ªü terminal l√™n, d√πng l·ªánh sau ƒë·ªÉ t·∫°o m√°y ·∫£o&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine create -d virtualbox docker00 
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>M·ªü port cho Docker Machine</title>
      <link>https://trumhemcut.github.io/2016/06/28/mo-port-cho-docker-machine</link>
      <pubDate>Tue, 28 Jun 2016 11:20:46 +0200</pubDate>
      
      <guid>https://trumhemcut.github.io/2016/06/28/mo-port-cho-docker-machine</guid>
      <description>

&lt;h2 id=&#34;gi·ªõi-thi·ªáu&#34;&gt;Gi·ªõi thi·ªáu&lt;/h2&gt;

&lt;p&gt;Khi s·ª≠ d·ª•ng Docker Machine tr√™n MacOS, ch√∫ng ta th∆∞·ªùng ch·∫°y c√°c containers, sau ƒë√≥ m·ªü port cho c√°c containers ƒë√≥, th√¥ng th∆∞·ªùng ch√∫ng ta s·∫Ω truy c·∫≠p v√†o c√°c containers ƒë√≥ th√¥ng qua ƒë·ªãa ch·ªâ c·ªßa docker machine (virtual machine) th√¥ng qua IP Address.&lt;/p&gt;

&lt;p&gt;V√≠ d·ª•:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker run -it -p 8080:8080 --name dotnetapp microsoft/dotnet:latest
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ƒê·ªÉ truy c·∫≠p v√†o website, ch√∫ng ta s·∫Ω d√πng ƒë·ªãa ch·ªâ &lt;code&gt;http://192.168.99.100:8080&lt;/code&gt; v·ªõi &lt;strong&gt;192.168.99.100&lt;/strong&gt; ch√≠nh l√† ƒë·ªãa ch·ªâ m√°y ·∫£o (m·∫∑c ƒë·ªãnh) tr√™n Docker Machine.&lt;/p&gt;

&lt;p&gt;ƒê·ªÉ c√≥ th·ªÉ truy c·∫≠p b·∫±ng ƒë·ªãa ch·ªâ localhost, ch√∫ng ta ph·∫£i forward port t·ª´ m√°y ·∫£o sang m√°y host. T·ª´ ƒë√≥ ch√∫ng ta c√≥ th·ªÉ truy c·∫≠p b·∫±ng ƒë·ªãa ch·ªâ &lt;code&gt;http://localhost:8080&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;C√≥ nhi·ªÅu c√°ch ƒë·ªÉ forward port, nh∆∞ng t√¥i th·∫•y b·∫°n Johan Haleby l√†m l√† c√°ch d·ªÖ nh·ªõ nh·∫•t. ƒê√≥ l√† d√πng tool &lt;strong&gt;pf&lt;/strong&gt;&lt;/p&gt;

&lt;h4 id=&#34;download-bash-script&#34;&gt;Download bash script&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;git clone https://github.com/johanhaleby/docker-machine-port-forwarder &amp;amp;&amp;amp; cd docker-machine-port-forwarder
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;m·ªü-port-8080-cho-m√°y-default&#34;&gt;M·ªü port 8080 cho m√°y default&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;./pf 8080
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;ho·∫∑c-m·ªü-port-8080-cho-m·ªôt-m√°y-docker-machine-c√≥-t√™n-l√†-swarm-00&#34;&gt;Ho·∫∑c m·ªü port 8080 cho m·ªôt m√°y docker machine c√≥ t√™n l√† &lt;strong&gt;swarm-00&lt;/strong&gt;&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;./pf 8080 -e swarm-00
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;ho·∫∑c-l√†-forward-port-8080-sang-port-80-tr√™n-m√°y-host&#34;&gt;Ho·∫∑c l√† forward port 8080 sang port 80 tr√™n m√°y host&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;./pf 80:8080 -e swarm-00
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;stop-port-forwarding&#34;&gt;Stop port forwarding&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;./pf 8080 -s
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;ch·∫°y-·ªü-ch·∫ø-ƒë·ªô-foreground&#34;&gt;Ch·∫°y ·ªü ch·∫ø ƒë·ªô foreground&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;./pf 8080 -f
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Gi·ªõi thi·ªáu c√°c t√≠nh nƒÉng m·ªõi trong Docker 1.12</title>
      <link>https://trumhemcut.github.io/2016/06/26/gioi-thieu-cac-tinh-nang-moi-trong-docker1-12</link>
      <pubDate>Sun, 26 Jun 2016 16:56:43 +0200</pubDate>
      
      <guid>https://trumhemcut.github.io/2016/06/26/gioi-thieu-cac-tinh-nang-moi-trong-docker1-12</guid>
      <description>

&lt;p&gt;DockerCon ƒë√£ gi·ªõi thi·ªáu m·ªôt lo·∫°t c√°c t√≠nh nƒÉng m·ªõi trong Docker, v√† v·ªõi version 1.12 (hi·ªán t·∫°i ƒëang rc2) ch√∫ng ta ƒë√£ c√≥ th·ªÉ b·∫Øt ƒë·∫ßu v·ªçc ph√°. H√¥m nay t√¥i xin gi·ªõi thi·ªáu v·ªÅ &lt;a href=&#34;https://docs.docker.com/engine/swarm/&#34;&gt;Docker Swarm Mode&lt;/a&gt;, m·ªôt t√≠nh nƒÉng m·ªõi c√≥ trong Docker Engine (v1.12).&lt;/p&gt;

&lt;p&gt;N·∫øu b·∫°n ƒëang s·ª≠ d·ª•ng c√°c phi√™n b·∫£n tr∆∞·ªõc v1.12.0-rc1, vui l√≤ng xem th√™m &lt;a href=&#34;https://docs.docker.com/swarm/&#34;&gt;·ªü ƒë√¢y&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;docker-swarm-mode-l√†-g√¨&#34;&gt;Docker Swarm Mode l√† g√¨?&lt;/h2&gt;

&lt;p&gt;Trong phi√™n b·∫£n v1.12.0, Docker Swarm l√† m·ªôt t√≠nh nƒÉng ƒë∆∞·ª£c t√≠ch h·ª£p s·∫µn trong Docker Engine, v√† ch√∫ng ta c√≥ th·ªÉ x√¢y d·ª±ng m·ªôt swarm cluster, t·∫°o c√°c service trong cluster m·ªôt c√°ch d·ªÖ d√†ng m√† kh√¥ng ph·∫£i c√†i th√™m b·∫•t k·ª≥ ph·∫ßn m·ªÅm n√†o. ƒê·∫∑c bi·ªát, version n√†y c≈©ng bao g·ªìm vi·ªác x·ª≠ l√Ω v·ªÅ v·∫•n ƒë·ªÅ Security, Networking, State &amp;amp; Cluster Initialization.&lt;/p&gt;

&lt;p&gt;Xem th√™m ·ªü ƒë√¢y ƒë·ªÉ ƒë∆∞·ª£c gi·ªõi thi·ªáu v·ªÅ &lt;a href=&#34;https://www.youtube.com/watch?v=KC4Ad1DS8xU&#34;&gt;Docker Swarm Mode&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;c√†i-ƒë·∫∑t&#34;&gt;C√†i ƒë·∫∑t&lt;/h2&gt;

&lt;p&gt;Trong b√†i n√†y, ch√∫ng ta s·∫Ω t·∫°o ra m·ªôt swarm cluster g·ªìm 1 cluster manager v√† 3 worker. N·∫øu nh∆∞ tr∆∞·ªõc ƒë√¢y ch√∫ng ta c·∫ßn th√™m c√°c container kh√°c cho service discovery, load balancer, &amp;hellip; ƒë·ªÉ x√¢y d·ª±ng m·ªôt cluster th√¨ b√¢y gi·ªù m·∫•y th·ª© ƒë√≥ kh√¥ng c·∫ßn n·ªØa. T·∫•t c·∫£ ƒë√£ ƒë∆∞·ª£c built-in trong Docker Engine.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://trumhemcut.github.io/images/dockerswarm01.png&#34; alt=&#34;Environment Setup&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;m·ªü-port-ƒë·ªÉ-giao-ti·∫øp-gi·ªØa-c√°c-hosts&#34;&gt;M·ªü port ƒë·ªÉ giao ti·∫øp gi·ªØa c√°c hosts&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;TCP port 2377&lt;/strong&gt;: port n√†y ƒë·ªÉ cluster mananegement&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCP&lt;/strong&gt; v√† &lt;strong&gt;UDP port 7946&lt;/strong&gt; ƒë·ªÉ giao ti·∫øp gi·ªØa c√°c nodes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCP&lt;/strong&gt; v√† &lt;strong&gt;UDP port 4789&lt;/strong&gt; d√†nh cho overlay network&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;N·∫øu ch√∫ng ta s·ª≠ d·ª•ng Boot2Docker phi√™n b·∫£n m·ªõi nh·∫•t th√¨ n√≥ ƒë√£ l√†m s·∫µn cho ch√∫ng ta r·ªìi, nice :)&lt;/p&gt;

&lt;h3 id=&#34;d√πng-docker-machine-ƒë·ªÉ-t·∫°o-c√°c-m√°y-·∫£o&#34;&gt;D√πng docker-machine ƒë·ªÉ t·∫°o c√°c m√°y ·∫£o&lt;/h3&gt;

&lt;p&gt;L∆∞u √Ω l√† ch√∫ng ta ph·∫£i c√†i Docker Toolbox ƒë·ªÉ c√≥ th·ªÉ x√†i l·ªánh docker-machine nh√©. Tr∆∞·ªõc ƒë√¢y t√¥i c≈©ng ƒë√£ t·ª´ng nh·∫ßm l·∫´n gi·ªØa Docker for Mac &amp;amp; Docker Toolbox, l∆∞u √Ω ƒë√¢y l√† 2 s·∫£n ph·∫©m ho√†n to√†n kh√°c nhau nh√©.&lt;/p&gt;

&lt;p&gt;Ch√∫ng ta t·∫°o ra c√°c m√°y ·∫£o nh∆∞ sau, l∆∞u √Ω l√† ch√∫ng ta ph·∫£i s·ª≠ d·ª•ng b·∫£n Boot2Docker m·ªõi nh·∫•t nh√©, n·∫øu kh√¥ng ch·∫Øc th√¨ b·∫°n n√™n ch·∫°y l·ªánh upgrade ƒë·ªÉ t·∫£i b·∫£ng boot2docker m·ªõi nh·∫•t:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;swarm-00&lt;/strong&gt;: m√°y n√†y s·∫Ω l√†m cluster manager, IP Address s·∫Ω l√†: 192.168.99.100&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;swarm-01&lt;/strong&gt;: worker s·ªë 1&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;swarm-02&lt;/strong&gt;: worker s·ªë 2&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;swarm-03&lt;/strong&gt;: worker s·ªë 3&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine upgrade default
$ docker-machine create -d virtualbox swarm-00
$ docker-machine create -d virtualbox swarm-01
$ docker-machine create -d virtualbox swarm-02
$ docker-machine create -d virtualbox swarm-03
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ki·ªÉm tra l·∫°i ƒë·ªãa ch·ªâ IP ƒë·ªÉ ch·∫Øc ch·∫Øn l√† &lt;strong&gt;swarm-00&lt;/strong&gt; c√≥ ƒë·ªãa ch·ªâ l√† 192.168.99.100&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine ip swarm-00 swarm-01 swarm-02 swarm-03
192.168.99.103
192.168.99.102
192.168.99.101
192.168.99.100
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;t·∫°o-m·ªôt-swarm-cluster&#34;&gt;T·∫°o m·ªôt Swarm Cluster&lt;/h2&gt;

&lt;p&gt;B√¢y gi·ªù ch√∫ng ta ƒë√£ chu·∫©n b·ªã s·∫µn s√†ng m√¥i tr∆∞·ªùng ƒë·ªÉ ta x√¢y d·ª±ng m·ªôt Swarm Cluster.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;K·∫øt n·ªëi v√†o &lt;strong&gt;swarm-00&lt;/strong&gt; ƒë·ªÉ kh·ªüi t·∫°o swarm manager&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine ssh swarm-00
$ docker swarm init --listen-addr 192.168.99.100:2377
Swarm initialized: current node (56cqz10j5z5inzzt0rsw877ja) is now a manager.
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Ch·∫°y l·ªánh &lt;code&gt;docker info&lt;/code&gt; ƒë·ªÉ ki·ªÉm tra tr·∫°ng th√°i c·ªßa &lt;strong&gt;swarm manager&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker@swarm-00:~$ docker info
Containers: 0
Running: 0
Paused: 0
Stopped: 0
Images: 0
Server Version: 1.12.0-rc2
Storage Driver: aufs
Root Dir: /mnt/sda1/var/lib/docker/aufs
Backing Filesystem: extfs
Dirs: 0
Dirperm1 Supported: true
Logging Driver: json-file
...
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Ch·∫°y l·ªánh docker node ls ƒë·ªÉ ki·ªÉm tra th√¥ng tin c√°c node trong cluster&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker@swarm-00:~$ docker node ls
ID                           NAME      MEMBERSHIP  STATUS  AVAILABILITY  MANAGER STATUS
56cqz10j5z5inzzt0rsw877ja *  swarm-00  Accepted    Ready   Active        Leader
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;th√™m-c√°c-node-v√†o-swarm-cluster&#34;&gt;Th√™m c√°c node v√†o Swarm Cluster&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Th√™m node &lt;strong&gt;swarm-01&lt;/strong&gt; v√†o swarm cluster&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine ssh swarm-01
docker@swarm-01:~$ docker swarm join 192.168.99.100:2377
This node joined a Swarm as a worker.
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Th√™m node &lt;strong&gt;swarm-02&lt;/strong&gt; v√†o swarm cluster&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine ssh swarm-02
docker@swarm-02:~$ docker swarm join 192.168.99.100:2377
This node joined a Swarm as a worker.
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Th√™m node &lt;strong&gt;swarm-03&lt;/strong&gt; v√†o swarm cluster&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine ssh swarm-03
docker@swarm-03:~$ docker swarm join 192.168.99.100:2377
This node joined a Swarm as a worker.
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Ki·ªÉm tra l·∫°i tr·∫°ng th√°i c·ªßa c√°c nodes trong cluster&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker@swarm-00:~$ docker node ls
ID                           NAME      MEMBERSHIP  STATUS  AVAILABILITY  MANAGER STATUS
0h70dwoxxl5jwx53m1g857jf2    swarm-03  Accepted    Ready   Active        
2csi90lknok2o5w3539xm48dl    swarm-02  Accepted    Ready   Active        
56cqz10j5z5inzzt0rsw877ja *  swarm-00  Accepted    Ready   Active        Leader
5dkujue686ddhm0zui9un77rs    swarm-01  Accepted    Ready   Active 
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;d√πng-visualizer-ƒë·ªÉ-hi·ªÉn-th·ªã-tr·∫°ng-th√°i-c√°c-nodes-services&#34;&gt;D√πng Visualizer ƒë·ªÉ hi·ªÉn th·ªã tr·∫°ng th√°i c√°c nodes &amp;amp; services&lt;/h2&gt;

&lt;p&gt;Th·∫≠t t√¨nh l√† t√¥i r·∫•t th√≠ch d√πng th·∫±ng Visualizer n√†y ƒë·ªÉ hi·ªÉn th·ªã tr·∫°ng th√°i c·ªßa c√°c nodes &amp;amp; services. B·∫°n c√≥ th·ªÉ kh√¥ng c·∫ßn b∆∞·ªõc n√†y, nh∆∞ng m√¨nh khuy√™n l√† n√™n d√πng.&lt;/p&gt;

&lt;p&gt;B·∫°n c√≥ th·ªÉ tham kh·∫£o v·ªÅ Visualzier &lt;a href=&#34;https://github.com/ManoMarks/docker-swarm-visualizer&#34;&gt;·ªü ƒë√¢y&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker@swarm-00:~$ docker run -it -d -p 5000:5000 -e HOST=localhost -e PORT=5000 -v /var/run/docker.sock:/var/run/docker.sock manomarks/visualizer
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Sau khi ch·∫°y container xong, ch√∫ng ta c√≥ th·ªÉ xem tr√™n browser &lt;a href=&#34;http://localhost:5000&#34;&gt;http://localhost:5000&lt;/a&gt; ƒë·ªÉ xem tr·∫°ng th√°i c√°c nodes.&lt;/p&gt;

&lt;h2 id=&#34;deploy-m·ªôt-service-l√™n-swarm-cluster&#34;&gt;Deploy m·ªôt service l√™n swarm cluster&lt;/h2&gt;

&lt;p&gt;ƒê∆°n gi·∫£n nh·∫•t, ch√∫ng ta t·∫°o m·ªôt server ch·∫°y tr√™n swarm cluster nh∆∞ sau:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine ssh swarm-00
$ docker service create --replicas 1 --name helloworld alpine ping docker.com
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;docker service create&lt;/code&gt; ƒë·ªÉ t·∫°o ra service&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--replicas&lt;/code&gt; ch·ªâ ƒë·ªãnh s·ªë instance mu·ªën c√≥, n·∫øu b·∫•t k·ª≥ instance n√†o b·ªã down, cluster s·∫Ω t·ª± ƒë·ªông clone s·ªë instance b·∫±ng s·ªë l∆∞·ª£ng replicas ƒë√£ c·∫•u h√¨nh&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--name&lt;/code&gt; t√™n service l√† helloworld&lt;/li&gt;
&lt;li&gt;&lt;code&gt;alpine ping docker.com&lt;/code&gt; image t√™n l√† alpine v√† ch·∫°y l·ªánh &lt;code&gt;ping docker.com&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Sau ƒë√≥ m·ªü tr√¨nh duy·ªát v√† truy c·∫≠p v√†o &lt;a href=&#34;http://localhost:5000&#34;&gt;http://localhost:5000&lt;/a&gt; ch√∫ng ta s·∫Ω th·∫•y m·ªôt container nh∆∞ trong h√¨nh.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://trumhemcut.github.io/images/visualizer01.png&#34; alt=&#34;Container in visualizer&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Li·ªát k√™ danh s√°ch c√°c service trong swarm cluster&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker service ls
708jyxdzqrim  helloworld  1/1       alpine  ping docker.com
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Xem chi ti·∫øt th√¥ng tin service&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker service tasks helloworld
ID                         NAME          SERVICE     IMAGE   LAST STATE             DESIRED STATE  NODE
439ypow987o6h0iun9wlm7x1f  helloworld.1  helloworld  alpine  Running About an hour  Running        swarm-00
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;scale-service-trong-m·ªôt-cluster-manager&#34;&gt;Scale service trong m·ªôt cluster manager&lt;/h2&gt;

&lt;p&gt;V√≠ d·ª• ta mu·ªën scale out service &lt;strong&gt;helloworld&lt;/strong&gt; l√™n 5 instances, d√πng l·ªánh sau:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker@swarm-00:~$ docker service scale helloworld=5
helloworld scaled to 5
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ch√∫ng ta xem l·∫°i danh s√°ch service ƒë·ªÉ ki·ªÉm tra xem tr·∫°ng th√°i c√°c service&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker@swarm-00:~$ docker service tasks helloworld
ID                         NAME          SERVICE     IMAGE   LAST STATE             DESIRED STATE  NODE
439ypow987o6h0iun9wlm7x1f  helloworld.1  helloworld  alpine  Running About an hour  Running        swarm-00
39zig0tgnb1fh0f6cocmtgq2c  helloworld.2  helloworld  alpine  Running 2 minutes      Running        swarm-00
2p9sslerww0pjd3brn52y3zp3  helloworld.3  helloworld  alpine  Running 2 minutes      Running        swarm-02
9m4p7jsaj0tv3k02ty099cjhd  helloworld.4  helloworld  alpine  Running 2 minutes      Running        swarm-00
26oj2s6xgnr4wo2zu2zig73uq  helloworld.5  helloworld  alpine  Running 2 minutes      Running        swarm-02
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ho·∫∑c c√≥ th·ªÉ xem qua visualizer &lt;a href=&#34;http://localhost:5000&#34;&gt;http://localhost:5000&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://trumhemcut.github.io/images/visualizer02.png&#34; alt=&#34;Visualizer Viewer&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Nh∆∞ tr√™n h√¨nh, ch√∫ng ta th·∫•y node &lt;strong&gt;swarm-02&lt;/strong&gt; c√≥ 2 instances, ch√∫ng ta th·ª≠ stop node n√†y xem chuy·ªán g√¨ s·∫Ω x·∫£y ra.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ docker-machine stop swarm-02
Stopping &amp;quot;swarm-02&amp;quot;...
Machine &amp;quot;swarm-02&amp;quot; was stopped.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ch√∫ng ta s·∫Ω th·∫•y swarm cluster s·∫Ω t·ª± ƒë·ªông t·∫°o ra th√™m 3 nodes tr√™n swarm-00. T√¥i c≈©ng kh√¥ng hi·ªÉu sao n√≥ kh√¥ng t·∫°o ra tr√™n &lt;strong&gt;swarm-01&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://trumhemcut.github.io/images/visualizer03.png&#34; alt=&#34;Visualizer Viewer&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;k·∫øt-lu·∫≠n&#34;&gt;K·∫øt lu·∫≠n&lt;/h2&gt;

&lt;p&gt;ƒê√¢y l√† m·ªôt v√†i t√≠nh nƒÉng r·∫•t c∆° b·∫£n m√† ch√∫ng ta l∆∞·ªõt s∆° qua, c√≤n r·∫•t nhi·ªÅu t√≠nh nƒÉng th√∫ v·ªã ch√∫ng ta s·∫Ω kh√°m ph√° d·∫ßn qua c√°c b√†i vi·∫øt ti·∫øp theo.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Azure Automation hay l√† PowerShell as a service</title>
      <link>https://trumhemcut.github.io/2014/10/31/azure-automation-hay-la-powershell-as-a-service</link>
      <pubDate>Fri, 31 Oct 2014 10:20:00 +0000</pubDate>
      
      <guid>https://trumhemcut.github.io/2014/10/31/azure-automation-hay-la-powershell-as-a-service</guid>
      <description>

&lt;h2 id=&#34;gi·ªõi-thi·ªáu-v·ªÅ-azure-automation&#34;&gt;Gi·ªõi thi·ªáu v·ªÅ Azure Automation&lt;/h2&gt;

&lt;p&gt;Microsoft th√¥ng b√°o l√† ƒë√£ cho ra m·∫Øt li·ªÅn t√π t√¨ c·∫£ l·ªë d·ªãch v·ª• m·ªõi, ƒë·ªçc m√† ch√≥ng c·∫£ m·∫∑t. Th·∫ø l√† l·∫°i l·∫∑n l·ªôi t√¨m xem c√≥ g√¨ hay, ƒë·ªçc s∆° qua c√°i s·ªõ th√¨ th·∫•y c√≥ em Azure Automation l√† g√¢y ·∫•n t∆∞·ª£ng m·∫°nh nh·∫•t. M√≤ ngay :))&lt;/p&gt;

&lt;p&gt;Azure Automation gi√∫p cho c√°c developer (ho·∫∑c DevOps) t·ª± ƒë·ªông h√≥a c√°c c√¥ng vi·ªác l·∫≠p ƒëi l·∫≠p l·∫°i h√†ng ng√†y, c√°c t√°c v·ª• m·∫•t nhi·ªÅu th·ªùi gian (long-running) ho·∫∑c c√°c t√°c v·ª• m√† ch√∫ng ta l√†m th∆∞·ªùng m·∫Øc l·ªói (v√≠ d·ª• nh∆∞ l√† ch·ªânh s·ª≠a c√°c th√¥ng tin c·∫•u h√¨nh m·ªói l·∫ßn deployment). Ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng create / deploy / monitoring / maintenance c√°c resources tr√™n m√¥i tr∆∞·ªùng Microsoft Azure d√πng ng√¥n ng·ªØ PowerShell (ch√≠nh x√°c l√† PowerShell Workflow). Theo t√¥i th·∫•y th√¨ Auzure Automation c≈©ng k·∫øt h·ª£p c·∫£ Azure Scheduler ƒë·ªÉ k√≠ch ho·∫°t ch·∫°y c√°c t√°c v·ª• tr√™n Azure Automation.&lt;/p&gt;

&lt;p&gt;R√µ r√†ng PowerShell ng√†y c√†ng tr·ªü n√™n quan tr·ªçng trong h·ªá sinh th√°i c·ªßa Microsoft. Vi·ªác Microsoft ƒë∆∞a PowerShell ph·ª•c v·ª• cho c√°c t√°c v·ª• t·ª± ƒë·ªông h√≥a tr√™n m√¥i tr∆∞·ªùng Azure s·∫Ω n√¢ng t·∫ßm l√™n m·ªôt b∆∞·ªõc n·ªØa, m√† t√¥i xin ƒë·∫∑t t√™n m·ªôt c√°ch vui v·∫ª l√† PowerShell-As-A-Service (nh·∫°i theo Everything Is A Service üôÇ )&lt;/p&gt;

&lt;h2 id=&#34;l·ª£i-√≠ch-khi-s·ª≠-d·ª•ng-azure-automation&#34;&gt;L·ª£i √≠ch khi s·ª≠ d·ª•ng Azure Automation&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Ti·∫øt ki·ªám th·ªùi gian v√† ti·ªÅn b·∫°c v·ªõi Automation&lt;/li&gt;
&lt;li&gt;Lo·∫°i b·ªè c√°c c√¥ng vi·ªác tay ch√¢n l·∫∑p ƒëi l·∫∑p l·∫°i, c√°c c√¥ng vi·ªác tay ch√¢n d·ªÖ m·∫Øc l·ªói ho·∫∑c c√°c t√°c v·ª• long-runing&lt;/li&gt;
&lt;li&gt;N√¢ng cao hi·ªáu qu·∫£ v√† ƒë·ªô tin c·∫≠y&lt;/li&gt;
&lt;li&gt;T∆∞∆°ng t√°c v·ªõi c√°c d·ªãch v·ª• c·ªßa Azure v√† c√°c third-party d√πng PowerShell&lt;/li&gt;
&lt;li&gt;TƒÉng kh·∫£ nƒÉng s·∫µn s√†ng&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;ch√≠nh-s√°ch-gi√°-c·ªßa-azure-automation&#34;&gt;Ch√≠nh s√°ch gi√° c·ªßa Azure Automation&lt;/h2&gt;

&lt;p&gt;C√≥ 2 g√≥i, Free v√† Standard, hi·ªán t·∫°i g√≥i Standard ƒëang ƒë∆∞·ª£c d√πng th·ª≠ mi·ªÖn ph√≠ cho ƒë·∫øn cu·ªëi th√°ng 11. Th·ª≠ ngay nh√©, n·∫øu kh√¥ng th√¨ ch√∫ng ta v·∫´n c√≤n c∆° h·ªôi x√†i ch√πa v√¨ ƒë√£ c√≥ g√≥i Free, chi ti·∫øt nh∆∞ sau:
&lt;img src=&#34;https://trumhemcut.github.io/images/azurepowershell01.png&#34; alt=&#34;Container in visualizer&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;b·∫°n-c·∫ßn-ph·∫£i-chu·∫©n-b·ªã-g√¨-ƒë·ªÉ-b·∫Øt-ƒë·∫ßu-v·ªõi-azure-automation&#34;&gt;B·∫°n c·∫ßn ph·∫£i chu·∫©n b·ªã g√¨ ƒë·ªÉ b·∫Øt ƒë·∫ßu v·ªõi Azure Automation?&lt;/h2&gt;

&lt;p&gt;ƒê·ªÉ b·∫Øt ƒë·∫ßu c·∫ßn ph·∫£i chu·∫©n b·ªã c√°c b∆∞·ªõc sau:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ƒêƒÉng k√Ω account d√πng th·ª≠ Microsoft Azure (dƒ© nhi√™n ro√†i hehe)&lt;/li&gt;
&lt;li&gt;K√≠ch ho·∫°t d√πng th·ª≠ Azure Automation&lt;/li&gt;
&lt;li&gt;B·∫°n ph·∫£i bi·∫øt c∆° b·∫£n ki·∫øn th·ª©c v·ªÅ PowerShell&lt;/li&gt;
&lt;li&gt;N·∫øu ƒë√£ d√πng th·ª≠ Azure Scheduler r·ªìi l√† m·ªôt l·ª£i th·∫ø&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>